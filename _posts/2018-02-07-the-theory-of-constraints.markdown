You have probably seen a factory before. You probably drove by one today. From the outside it looks dull, because iron curtains hide the marvel that is going on inside. 

I was lucky enough to work at a factory before i even graduated. It was a paper plant. They shipped in cellulose and turn it into paper for all sorts of labels. But all the knowledge about technical part of the plant didn’t prepare me for the Theory of constraints. 

While engineers worry about how machines operate and their health status, upper management deals with the operations process like the throughput maximisation, efficiency, profitability. For a young engineer these terms sound like meaningless words, they actually consider the future of the plant itself. This was a great opportunity for me, to sit on a managers chair and observe the process, while consuming the information and making sense of it.

This article was created as a research piece to the theory of Constraints proposed by Eliyahu M. Goldratt & Jef Cox in the book "The Goal”. And at the same time apply the knowledge to a simulation that considers management perspective as the main driver to reach the goal. The simulation is actually a strategic game that involves people, their motivations and as well considers tangible assets as a goal.

### The novel: The goal
The main character is Alex Rogo, his mission is to turn the factory away from debt and ensure profit and survival of his company. The book reveals how the Theory of Constraints can be applied in management to alleviate bottlenecks. The book also describes how to apply the concepts in real life. It is used in management colleges to teach students about the importance of strategic capacity planning and constraint management. [Time Magazine](https://en.wikipedia.org/wiki/Time_(magazine)) listed the book as one of "The 25 Most Influential Business Management Books. More: [Wiki: The Goal(novel)](https://en.wikipedia.org/wiki/The_Goal_(novel))

Some quotes from the book: 

"Throughput is the rate at which the system generates money through sales."

"Inventory is all the money that the system has invested in purchasing things which it intends to sell."

"Operational expense  is all the money the system spends in order to turn inventory into throughput."

"Inventory are machines, tools, estate. The whole plant is an investment that can be sold.”


### The simulation: Fallout Shelter
(http://fallout.wikia.com/wiki/Fallout_Shelter) announced in 2015. The game allows building an underground vault and becoming overseer of its inhabitants. The game includes in-app payment that allows time shortcuts for some of its processes. The goal is to reach 200 inhabitants while stabilising their resource consumption and develop their skills. The game owns unpredictable factors, that appear randomly and have to be addressed immediately. We can call these stability tests. The simulation is a close representation to the example in the book, but still needed some deduction to identify some of its traits.

The game operates as a manufacturing facility, where bottlenecks and optimisations are possible. The game challenges the player by building a stable entity and testing it by random events that can compromise stability.

The goal of the game actually wasn't announced by the creators but it does provide the multitude of areas for improvement. Mainly concerning the inhabitants. The vault has its size limit, and so do the skills levels.


### Room positioning strategy.

#### Building array
At the beginning the overseer is presented to a line of 15 dwellers at the gate of the vault. They are at level 1 with no skills. First modest steps involves building the basic necessities for the vault. You can group maximum of 3 rooms, and the allowed width allows for 9 rooms total in a row. If you want to maximise the speed dwellers move in the vault, build elevators columns in the centre of the vault. My configuration has exactly the configuration. This sacrifices some spaces but ensures stability in time of fires and other urgent attacks.

#### Build-in rows
Build resource producing facilities in a row. This way you can maximise the robot harvester by the name of mr. Handy. Living quarters training facilities and storage room can follow the same principle just for the sake of consistency.

#### Build for protection
Build producing and/or training facilities at the same level as vault door. This way attack can be addressed as soon as possible, preventing  its spread into the facility. 

#### Build for future upgrades
At the beginning of the game, there are not many options where to build. But as game evolves, new rooms begin to unlock. Including the final Nuca-cola factory. Here is the catch. The upgraded Nuca-cola factory can provide food and water for 100 people. You will be rendering every food and water as not beneficial. So plan your food & water generating facilities in advance to be removed later in time only to be replaced with other facilities.

#### Do build, only from necessity
At the beginning, money dosen’t come in abundance. Building any fascility becomes a burden not only as building cost but also as maitenence. But you have two options. You can build more rooms or upgrade existing ones. My strategy was to improve what I already had because building more facilities can increase our power needs which is a precious commodity at that point. Build new facilities only out of complete necessity and if you have maxed out all the rooms available. The vault will be easier to maintain.

Rooms themselves can become bottlenecks because of conservative approach. However, satisfying the need can be managed. With prioritization system. For example. If you have only one school facility in the vault, you can train dwellers that need intelligence to produce resources better/faster. After accomplishing that, everyone else on the priority list can train. Just be sure to spend every available space in the school so you can maximise throughput of the bottleneck.

If the bottleneck can occur at power plant. The collective production is lower than the need of the vault. You can build other power plants, or you can assign specific dwellers to the plant, producing more power and have greater success with speedups.

#### Focus on your resources
Energy, water and food levels are the most important levels to keep eyes on. The bar on the levels is your demand/production ratio. If it’s on the left, you are producing more than consuming, on the right, you are consuming more than producing. Both extremes are bad. Keep it in the middle.

### Statistical fluctuations 
(some events are unpredictable - you cannot predict how many eggs will the cook spend in his day, in contrast, you can count how many seats are in the restaurant - capacity)

Food and water consumptions are unpredictable.

In real life, spending would be calculated with resource capacity level and the demand for the resource. This is the ratio between plant production and the number of dwellers.

Some rough estimations express that dwellers consume 21units/hour (food and water). 100 dwellers would spend 2100units of food per hour This is a local minimum because spending would increase due to attacks, workforce, healing, growing, pregnancy, exercise, work status, health status, wasteland time etc. These are all estimations made by players because there is no official source of information. 

The best way is to over-produce living resources and ensure supression of random attacks. You can do this by involving gate-keeping into vault construction and smarter elevator positioning for faster access.

### Dependent events 
(a single process has to finish first to enable others to start)

Production is of food and water depend on energy levels. If energy is low, some facilities just shut down. Imagine how bad it would be if you had maxed out diners and insufficient energy resources to run them.

Dwellers have to have high “L" levels to increase their success rate at the factory speedups. Their Strength levels determine how fast they can produce resources. But all that would not be possible if they would not depend on their health levels. Every resource depends uppon another and this makes it seem like a never ending spiral.

In reality, it is a snowball, where you must ensure that it is moving and gripping to more snow than the one it falls. In management terms: Ensure that the demand doesn't surpass the production. 

Building training facilities come in at higher levels than lower. This is actually a good thing. since this prolongs the production time (dwellers are not in the factory when training) but actually works in benefit to it in the long run (skilled dweller will have lower operating expenses). Stronger resource production allows other dwellers to focus on other goals like increasing population, defence, offence.

I thought installing game rooms would be a waste of time and money because of the nature of their meaning. But later i learned that theyare of great value, since factories have lower failure rates at speed-ups which also increases happiness levels and calls for more stable vault.

### Operational expenses

Operational costs are the time dwellers spend working and the resources they consume. Inventory is also counted as an operational cost.
"Money for knowledge is also operational cost if it is used to convert inventory into throughput.”  - This means that time spent for dweller training is also operational cost. If we would sell our dwellers it would become inventory.
Time in the game also runs when you lock your phone. This means you don't actually have to spend in the app. This way you avoid losing money with random attacks.

Money consumed for constructing and upgrading necessary rooms for operation is also operational cost. Money spent on changes, that don’t benefit the goal is not an operational expense.

### Throughput
If the goal is a healthy 200 dweller vault where everyone is a maxed-out 50 level individual, the throughput is a process of getting there. Throughput thereby must count for all level advances, all SPECIAL advancements and the process of gaining new inhabitants. 
Whatever effects the goal must be throughput. This means, a dweller left on a “coffee break” is actually a loss. A loss also happens, when a dweller has maxed-out his/hers SPECIAL levels and is left in the upbringing facility. 
Same way, those with low SPECIAL levels should be introduced to training. But since training facilities have their own limits, it takes time to train everyone's SPECIAL. The strategy here is to select few dwellers by their SPECIAL birth preference and train their prefered levels only. Train their luck for an extra push at speed-ups.

I mentioned that those with high levels should work near the vault door, to defend incoming attacks. Same applies to SPECIAL levels. Position those with higher levels at the door. Even if they are at lower levels. They can grow.

### Bottlenecks
Bottlenecks are not apparent at first In fact, we may not be aware of them until it’s late. The lack of resources is a problem because we cannot buy additional facilities to solve them. What we can do is change perspective and focus resources we already own to relieve bottlenecks. 

### What I learned

“to learn and not to do is not to learn. To know and not to do is really not to know” - Stephen R. Covey 
With this book and simulation, I was able to learn and apply the knowledge obtained by the book. Application helped me to think in terms mentioned in the book and transfer the management perspective to the simulation. Trough research I have obtained basic knowledge of management and strategic planning. 

This learning opportunity exposed me to management strategy, accounting and technical writing. I have learned to apply the knowledge and extract important decisions that benefit the end goal of the simulation. 

I also learned that technical innovation may not always be the right answer for our problems. Efficiency may not affect throughput at all. Just as Alex Rogo found out that the robots, that were acquired recently and have great efficiency, actually represent a bottleneck for the whole factory. They had to strategically adjust the workload and batch sizes to benefit the throughput. They even obtained an old machine that once stood at the place of the robot, just to relieve the bottleneck. Technical innovation, judged by the book, may not be the leading factor to better throughput. We often think that the latest and greatest technology may solve our problems but actually renders the opposite.
